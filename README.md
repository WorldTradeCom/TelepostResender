# TelepostResender
**TelepostResender** – это скрипт для пересылки сообщений между чатами [Telegram](https://telegram.org), поддерживающий фильтрацию абзацев по ключевым фразам и перевод текста на зумерский при помощи [BuzzerMutarji](https://github.com/WorldTradeCom/BuzzerMutarji).

## Порядок установки и использования
1. Скачать и распаковать последний релиз.
2. Убедиться в доступности на вашем устройстве Python версии 3.12 или новее.
3. Открыть каталог со скриптом в консоли: можно воспользоваться командой `cd` или встроенными возможностями файлового менеджера.
4. Создать виртуальное окружение Python.
```Bash
python -m venv .venv
```
5. Активировать вирутальное окружение. 
```Bash
source .venv/bin/activate
```
6. Установить зависимости.
```Bash
pip install -r requirements.txt
```
7. Произвести настройку путём редактирования файла _Settings.json_.
8. В вирутальном окружении указать для выполнения интерпретатором файл _main.py_.
9. Выполнить подключение аккаунта следуя инструкциям из консоли. Убедиться, что аккаунт имеет доступ к источнику сообщений.
10. При необходимости регулярных проверок рекомендуется настроить интервальный запуск через [cron](https://en.wikipedia.org/wiki/Cron).

## Settings.json
```JSON
"phone_number": null
```
Номер телефона используемого для пересылки аккаунта Telegram.
___
```JSON
"api_id": null,
"api_hash": ""
```
API ID и хэш используемого аккаунта. Можно получить [здесь](https://my.telegram.org).
___
```JSON
"from": ""
```
Идентификатор источника сообщений. Например, для `https://t.me/channel` это будет `channel`.
___
```JSON
"to": ""
```
Идентификатор целевого чата.

### Text Processor
В секции `text_processor` располагаются опции дополнительных обработчиков контента.
```JSON
"buzzer_mutarji_directory": ""
```
Если необходимо выполнять перевод на зумерский, можно указать путь к каталогу [BuzzerMutarji](https://github.com/WorldTradeCom/BuzzerMutarji) для использования его CLI.
___
```JSON
"sentiment_compound": null
```
Полярность сообщения от -1 (абсолютно негативное) до 1 (абсолютно позитивное). Если вычисленное значение нижне указанного, пересылка не производится.
___
```JSON
"sign": ""
```
При указании подписи для каждого сообщения внизу будет генерироваться кликабельная ссылка на целевой канал.
___
```JSON
"skip_messages_by_badwords": []
```
Список ключевых негативных фраз, при наличии которых сообщение игнорируется.
___
```JSON
"exclude_paragraphs_by_badwords": []
```
Список ключевых негативных фраз, при наличии которых в абзаце абзац удаляется.